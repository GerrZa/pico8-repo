pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
	p={
		x=0,
		y=0,
		f=16,
		ac=12
	}
end

function _update()
	p.ac-=1
	if p.ac<0 then
		if p.f==16 then p.f=32
		elseif p.f==32 then p.f=16 end
		p.ac=12
	end

	if (btnp(â¬…ï¸)) then
		p.x-=1
	elseif (btnp(âž¡ï¸)) then
		p.x+=1
	elseif (btnp(â¬†ï¸)) then
		p.y-=1
	elseif (btnp(â¬‡ï¸)) then
		p.y+=1
	end
	if (btnp(âŽ) and mget(p.x,p.y)==0) then
		mset(p.x,p.y,49)
	end
	if (btnp(ðŸ…¾ï¸)) then
		mset(p.x,p.y,0)
	end
	
	for tx=0,15 do
		for ty=0,15 do
			if mget(tx,ty)!=0 then
				local tu=mget(tx,ty-1)
				local td=mget(tx,ty+1)
				local tr=mget(tx+1,ty)
				local tl=mget(tx-1,ty)
				local tur=mget(tx+1,ty-1)
				local tul=mget(tx-1,ty-1)
				local tdr=mget(tx+1,ty+1)
				local tdl=mget(tx-1,ty+1)
				--tu+tur+tul+tr+tl+td+tdr+tdl
				if tl+tdl+tu+tur+tdl==0 then--5 empty
					mset(tx,ty,2)
				elseif tdl+tu+tur+tr+tdr==0 then
					mset(tx,ty,4)
				elseif tur+tul+tl+td+tdr==0 then
					mset(tx,ty,34)
				elseif tul+td+tdr+tr+tur==0 then--5 empty
					mset(tx,ty,36)
				elseif tur+tul+tdr+tdl==0 then--4 empty
					mset(tx,ty,19)
				elseif tu+td+tl+tr==0 then--4 empty
					mset(tx,ty,49)
				end
			end
		end
	end
end

function _draw()
	cls()
	map()
	spr(p.f,p.x*8,p.y*8)
end
__gfx__
00000000011111100111111111111111111111104444449111111111111111111944444401111111194444911111111111111110000000000000000000000000
00000000149999411499999999999999999999414444444999999999999999999444444414999999944444499999999999999941000000000000000000000000
00700700194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00077000194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00077000194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00700700194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00000000194444911944444994444449944444919444444994444444444444499444444919444444444444444444444444444491000000000000000000000000
00000000194444911944449119444491194444911944449119444444444444911944449119444444444444444444444444444491000000000000000000000000
cc0cc0cc194444911944449119444491194444911944449119444444444444911944449119444444194444440000000044444491000000000000000000000000
c000000c194444911944444994444449944444911944444994444444444444499444449119444444944444440000000044444449000000000000000000000000
00000000194444911944444444444444444444911944444444444444444444444444449119444444444444440000000044444444000000000000000000000000
c000000c194444911944444444444444444444911944444444444444444444444444449119444444444444440000000044444444000000000000000000000000
c000000c194444911944444444444444444444911944444444444444444444444444449119444444444444440000000044444444000000000000000000000000
00000000194444911944444444444444444444911944444444444444444444444444449119444444444444440000000044444444000000000000000000000000
c000000c194444911944444994444449944444911944444444444444444444444444449119444444444444490000000044444449000000000000000000000000
cc0cc0cc194444911944449119444491194444911944444444444444444444444444449119444444444444910000000044444491000000000000000000000000
11011011194444911944449119444491194444911944444444444444444444444444449119444444444444444444449144444491000000000000000000000000
10000001194444911944444994444449944444911944444444444444444444444444449194444444444444444444444944444491000000000000000000000000
00000000194444911944444444444444444444911944444444444444444444444444449114444444444444444444444444444491000000000000000000000000
10000001194444911944444444444444444444911944444444444444444444444444449144444444444444444444444444444491000000000000000000000000
10000001194444911944444444444444444444911944444444444444444444444444449144444444444444444444444444444491000000000000000000000000
00000000194444911944444444444444444444911944444444444444444444444444449144444444444444444444444444444491000000000000000000000000
10000001149999411499999999999999999999411944444994444444444444499444449194444444444444449444444444444491000000000000000000000000
11011011011111100111111111111111111111101944449119444444444444911944449119444444444444441944444444444491000000000000000000000000
00000000011111100111111111111111111111101944449119444444444444911944449119444444444444444444444444444491000000000000000000000000
00000000149999411499999999999999999999419444444994444444444444499444444919444444444444444444444444444491000000000000000000000000
00000000194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00000000194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00000000194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00000000194444911944444444444444444444914444444444444444444444444444444419444444444444444444444444444491000000000000000000000000
00000000149999411499999999999999999999414444444999999999999999999444444414999999999999999444444999999941000000000000000000000000
00000000011111100111111111111111111111104444449111111111111111111944444401111111111111111944449111111110000000000000000000000000
__label__
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888eeeeee888888888888888888888888888888888888888888888888888888888888888888888888ff8ff8888228822888222822888888822888888228888
8888ee888ee88888888888888888888888888888888888888888888888888888888888888888888888ff888ff888222222888222822888882282888888222888
888eee8e8ee88888e88888888888888888888888888888888888888888888888888888888888888888ff8881f888282282888222888888228882888888288888
888eee8e8ee8888eee8888888888888888888888888888888888888888888888888888888888888888ff88171888222222888888222888228882888822288888
888eee8e8ee88888e88888888888888888888888888888888888888888888888888888888888888888ff88171181822228888228222888882282888222288888
888eee888ee888888888888888888888888888888888888888888888888888888888888888888888888ff8171717128828888228222888888822888222888888
888eeeeeeee888888888888888888888888888888888888888888888888888888888888888888888888881177777188888888888888888888888888888888888
1b111b1111b1171111611616111111c1111111611616111111c11117111111111111111111111111111117177777111111111111111111111111111111111111
1b111bb111b1171111611161177711c1111111611666177711c11117111111111111111111111111111111777777111111111111111111111111111111111111
1b1b1b1111b1171111611616111111c1117111611116111111c11117111111111111111111111111111111117771111111111111111111111111111111111111
1bbb1bbb11b111711161161611111ccc17111161166611111ccc1171111111111111111111111111111111117771111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11bb1bbb1bbb11711666161611111cc111111666161611111cc11171111111111111111111111111111111111111111111111111111111111111111111111111
1b111b1111b1171111611616117111c1111111611616117111c11117111111111111111111111111111111111111111111111111111111111111111111111111
1b111bb111b1171111611161177711c1111111611666177711c11117111111111111111111111111111111111111111111111111111111111111111111111111
1b1b1b1111b1171111611616117111c1117111611116117111c11117111111111111111111111111111111111111111111111111111111111111111111111111
1bbb1bbb11b111711161161611111ccc17111161166611111ccc1171111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11bb1bbb1bbb11711666161611111cc111111666161611111cc11171111111111111111111111111111111111111111111111111111111111111111111111111
1b111b1111b1171111611616111111c1111111611616117111c11117111111111111111111111111111111111111111111111111111111111111111111111111
1b111bb111b1171111611161177711c1111111611666177711c11117111111111111111111111111111111111111111111111111111111111111111111111111
1b1b1b1111b1171111611616111111c1117111611116117111c11117111111111111111111111111111111111111111111111111111111111111111111111111
1bbb1bbb11b111711161161611111ccc17111161166611111ccc1171111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1d1111111ddd1ddd11111ddd1d1111111ddd1dd111111ddd1dd11ddd11111ddd1dd11d1111111111111111111111111111111111111111111111111111111111
1d1111d111d11d1d11d111d11d1111d111d11d1d11d111d11d1d1d1d11d111d11d1d1d1111111111111111111111111111111111111111111111111111111111
1d111ddd11d11dd11ddd11d11d111ddd11d11d1d1ddd11d11d1d1dd11ddd11d11d1d1d1111111111111111111111111111111111111111111111111111111111
1d1111d111d11d1d11d111d11d1111d111d11d1d11d111d11d1d1d1d11d111d11d1d1d1111111111111111111111111111111111111111111111111111111111
1ddd111111d11d1d111111d11ddd111111d11ddd111111d11ddd1d1d111111d11ddd1ddd11111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1616161111111666166611111666161111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee111111111111111111111111111111111
1616161111711161161611711161161111711161161616161171116116161611177717771c1c111111e11e1e1e111e1e11111111111111111111111111111111
1616161117771161166117771161161117771161161616611777116116161611111111111c1c111111e11eee1ee11e1e11111111111111111111111111111111
1616161111711161161611711161161111711161161616161171116116161611177717771c1c111111e11e1e1e111e1e11111111111111111111111111111111
1166166611111161161611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e11111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111cc1117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111c1111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111c1111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
117111c1111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111ccc117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16661616161111111666166611111666161111111666166111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee11111111111111111
11611616161111711161161611711161161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111
11611616161117771161166117771161161117771161161617771161161616611777116116161611111111111c1c111111e11eee1ee11e1e1111111111111111
11611616161111711161161611711161161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111
11611166166611111161161611111161166611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e1111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111111c111c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111cc11cc11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1171111c111c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16161666111116661616161111111666161111111666166111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee11111111111111111
16161616117111611616161111711161161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111
16161661177711611616161117771161161117771161161617771161161616611777116116161611111111111c1c111111e11eee1ee11e1e1111111111111111
16161616117111611616161111711161161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111
11661616111111611166166611111161166611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e1111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111c111c1c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc1c1c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1171111c1c1c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16161666111116661616161111111666166611111666166111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee11111111111111111
16161616117111611616161111711161161611711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111
16161661177711611616161117771161166117771161161617771161161616611777116116161611111111111c1c111111e11eee1ee11e1e1111111111111111
16161616117111611616161111711161161611711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111
11661616111111611166166611111161161611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e1111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111c11111c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc1ccc11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1171111c1c1111171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16161666111116661616161111111666166111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee11111111111111111111111111111
16161616117111611616161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111111111111111
16161661177711611616161117771161161617771161161616611777116116161611111111111c1c111111e11eee1ee11e1e1111111111111111111111111111
16161616117111611616161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111111111111111
11661616111111611166166611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc1cc111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111c1111c111171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111ccc11c111171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1171111c11c111171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111ccc1ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16661616161111111666166611111666161111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee11111111111111111111111111111
11611616161111711161161611711161161111711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111111111111111
11611616161117771161166117771161161117771161161616611777116116161611111111111c1c111111e11eee1ee11e1e1111111111111111111111111111
11611616161111711161161611711161161111711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111111111111111111111111111
11611166166611111161161611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111cc11ccc11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111c1111c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111c1111c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
117111c1111c11171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111ccc111c11711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16161666111116661616161111111666166611111666161111111666166111111666166116661111166616611611111111111ccc11111eee1e1e1eee1ee11111
16161616117111611616161111711161161611711161161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111
16161661177711611616161117771161166117771161161117771161161617771161161616611777116116161611111111111c1c111111e11eee1ee11e1e1111
16161616117111611616161111711161161611711161161111711161161611711161161616161171116116161611177717771c1c111111e11e1e1e111e1e1111
11661616111111611166166611111161161611111161166611111161166611111161166616161111116116661666111111111ccc111111e11e1e1eee1e1e1111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11711117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
17111171111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1661111116661666111116661611111111111ccc11111eee1e1e1eee1ee111111111111111dd1ddd1dd111dd1d111ddd11111111111111111111111111111111
1616117111611616117111611611177717771c1c111111e11e1e1e111e1e1111111111111d1111d11d1d1d111d111d1111111111111111111111111111111111
1616177711611661177711611611111111111c1c111111e11eee1ee11e1e11111ddd1ddd1ddd11d11d1d1d111d111dd111111111111111111111111111111111
1616117111611616117111611611177717771c1c111111e11e1e1e111e1e111111111111111d11d11d1d1d1d1d111d1111111111111111111111111111111111
1666111111611616111111611666111111111ccc111111e11e1e1eee1e1e1111111111111dd11ddd1d1d1ddd1ddd1ddd11111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
82888222822882228888822282228882822282228888888888888888888888888888888888888888888888888282822282228882822282288222822288866688
82888828828282888888828882828828888288828888888888888888888888888888888888888888888888888282828282828828828288288282888288888888
82888828828282288888822282228828888282228888888888888888888888888888888888888888888888888222828282228828822288288222822288822288
82888828828282888888888282828828888282888888888888888888888888888888888888888888888888888882828282828828828288288882828888888888
82228222828282228888822282228288888282228888888888888888888888888888888888888888888888888882822282228288822282228882822288822288
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888

__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003131313131000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003100310031000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003131313131000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003100310031000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003131313131000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
